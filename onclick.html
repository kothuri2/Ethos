<!DOCTYPE html>
<html>
<body>

<p>Click the button to trigger a function that will output data from JSON in a p element with id="demo".</p>


<input type="search" id="mySearch" placeholder="Search for something..">
<button onclick="myFunction()">Search</button>
<p id="demo"></p>

<script>
var text = '{ "employees" : [' +
'{ "firstName":"John" , "lastName":"Doe" },' +
'{ "firstName":"Anna" , "lastName":"Smith" },' +
'{ "firstName":"Peter" , "lastName":"Jones" } ]}';
var obj = JSON.parse(text);
function myFunction() {
	var x = document.getElementById("mySearch");
	var length=Object.keys(obj).length;
	//bug here: cannot access JSON length
	document.getElementById("demo").innerHTML=length;
	for (i=0;i<Object.keys(obj).length;i++)
	{
		if (obj.employees[i].firstName==x)
		{
			document.getElementById("demo").innerHTML =
			obj.employees[i].firstName + " " + obj.employees[i].lastName; 
		}
	}

}
</script>

</body>
</html>
